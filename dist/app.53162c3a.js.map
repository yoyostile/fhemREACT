{"version":3,"sources":["webpack:///app.53162c3a.js","webpack:///./src/index.js","webpack:///./src/App.js","webpack:///./src/fhem.js","webpack:///./src/fhemURLInput.js","webpack:///./src/fhemRoomSwitcher.js","webpack:///./src/fhemGenericDevice.js","webpack:///./src/fhemITDevice.js","webpack:///./src/fhemMAXDevice.js"],"names":["webpackJsonp","lVK7","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_App","_App2","render","createElement","document","querySelector","0","cilB","pnOm","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_fhem","_fhem2","_fhemURLInput","_fhemURLInput2","App","_React$Component","props","this","_this","onConfirmURLInput","bind","resetFhemURL","state","fhemURL","localStorage","getItem","newURL","console","log","setState","prevState","_","match","setItem","className","onClick","onConfirm","Component","zvKi","_socket","_socket2","_lodash","_lodash2","_fhemRoomSwitcher","_fhemRoomSwitcher2","_fhemGenericDevice","_fhemGenericDevice2","url","socket","timeout","sync disconnect on unload","Fhem","handleRoomChange","handleDeviceCommand","handleDeviceChange","jsonlist","Results","rooms","activeRoom","componentDidMount","_this2","connect","emit","data","getRoomsFromData","on","chain","map","el","Attributes","room","split","flatten","uniq","compact","getDevicesForActiveRoom","_this3","filter","result","alias","name","Name","results","slice","resultsIdx","findIndex","res","event","target","textContent","command","_this4","device","key","CE+p","TVRk","_core","FhemURLInput","apply","arguments","EditableText","placeholder","2x5+","FhemRoomSwitcher","Menu","idx","MenuItem","text","disabled","c3Ca","_fhemITDevice","_fhemITDevice2","_fhemMAXDevice","_fhemMAXDevice2","FhemGenericDevice","Internals","TYPE","BKUj","FhemITDevice","handleChange","newState","STATE","Switch","checked","label","onChange","xOTe","FhemMAXDevice","parseFloat","valuesForDevice","PossibleSets","numericValuesForDevice","isNaN","buttonValuesForDevice","renderTemperatureLabel","num","numVal","actualValue","Readings","Value","temperature","valveposition","Slider","min","max","length","labelStepSize","stepSize","renderLabel","1"],"mappings":"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","file":"app.53162c3a.js","sourcesContent":["webpackJsonp([0,2],{\n\n/***/ \"lVK7\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(\"cilB\");\n\t\n\t__webpack_require__(\"ozen\");\n\t\n\t__webpack_require__(\"/gVB\");\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(\"O27J\");\n\t\n\tvar _App = __webpack_require__(\"pnOm\");\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(0, _reactDom.render)(_react2.default.createElement(_App2.default, null), document.querySelector('#app'));\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(\"0RdU\");\n\tmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ },\n\n/***/ \"cilB\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ \"pnOm\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _fhem = __webpack_require__(\"zvKi\");\n\t\n\tvar _fhem2 = _interopRequireDefault(_fhem);\n\t\n\tvar _fhemURLInput = __webpack_require__(\"TVRk\");\n\t\n\tvar _fhemURLInput2 = _interopRequireDefault(_fhemURLInput);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar App = function (_React$Component) {\n\t  _inherits(App, _React$Component);\n\t\n\t  function App(props) {\n\t    _classCallCheck(this, App);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.onConfirmURLInput = _this.onConfirmURLInput.bind(_this);\n\t    _this.resetFhemURL = _this.resetFhemURL.bind(_this);\n\t    _this.state = {\n\t      fhemURL: localStorage.getItem('fhemURL') || ''\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  App.prototype.onConfirmURLInput = function onConfirmURLInput(newURL) {\n\t    console.log(newURL);\n\t    this.setState(function (prevState, _) {\n\t      if (newURL.match(/ws:\\/\\/\\S*/)) {\n\t        localStorage.setItem('fhemURL', newURL);\n\t        return { fhemURL: newURL };\n\t      }\n\t    });\n\t  };\n\t\n\t  App.prototype.resetFhemURL = function resetFhemURL() {\n\t    localStorage.setItem('fhemURL', '');\n\t    this.setState({\n\t      fhemURL: ''\n\t    });\n\t  };\n\t\n\t  App.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'App' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'small-12 columns' },\n\t        _react2.default.createElement(\n\t          'h1',\n\t          null,\n\t          'reactFHEM ',\n\t          _react2.default.createElement(\n\t            'small',\n\t            { className: 'cursor', onClick: this.resetFhemURL },\n\t            'Reset Host'\n\t          )\n\t        )\n\t      ),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'small-12 columns' },\n\t        this.state.fhemURL ? _react2.default.createElement(_fhem2.default, null) : _react2.default.createElement(_fhemURLInput2.default, { onConfirm: this.onConfirmURLInput })\n\t      )\n\t    );\n\t  };\n\t\n\t  return App;\n\t}(_react2.default.Component);\n\t\n\texports.default = App;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"zvKi\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\t__webpack_require__(\"CE+p\");\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _socket = __webpack_require__(\"DmT9\");\n\t\n\tvar _socket2 = _interopRequireDefault(_socket);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _fhemRoomSwitcher = __webpack_require__(\"2x5+\");\n\t\n\tvar _fhemRoomSwitcher2 = _interopRequireDefault(_fhemRoomSwitcher);\n\t\n\tvar _fhemGenericDevice = __webpack_require__(\"c3Ca\");\n\t\n\tvar _fhemGenericDevice2 = _interopRequireDefault(_fhemGenericDevice);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar url = \"ws://fhem.lan.r4r3.me:8086/\";\n\tvar socket = (0, _socket2.default)(url, { timeout: 5000, 'sync disconnect on unload': true });\n\t\n\tvar Fhem = function (_React$Component) {\n\t  _inherits(Fhem, _React$Component);\n\t\n\t  function Fhem(props) {\n\t    _classCallCheck(this, Fhem);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.handleRoomChange = _this.handleRoomChange.bind(_this);\n\t    _this.handleDeviceCommand = _this.handleDeviceCommand.bind(_this);\n\t    _this.handleDeviceChange = _this.handleDeviceChange.bind(_this);\n\t    _this.state = {\n\t      jsonlist: { Results: [] },\n\t      rooms: [],\n\t      activeRoom: \"Wohnzimmer\"\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  Fhem.prototype.componentDidMount = function componentDidMount() {\n\t    var _this2 = this;\n\t\n\t    socket.connect();\n\t    socket.emit(\"JsonList2\", \"\", function (data) {\n\t      var rooms = _this2.getRoomsFromData(data);\n\t      _this2.setState({\n\t        jsonlist: data,\n\t        rooms: rooms\n\t      });\n\t    });\n\t\n\t    socket.emit(\"getAllDevicesOnChange\");\n\t    socket.on('device', this.handleDeviceChange);\n\t  };\n\t\n\t  Fhem.prototype.getRoomsFromData = function getRoomsFromData(data) {\n\t    return _lodash2.default.chain(data.Results).map(function (el) {\n\t      return el.Attributes.room;\n\t    }).map(function (el) {\n\t      return el ? _lodash2.default.split(el, \",\") : '';\n\t    }).flatten().uniq().compact().value();\n\t  };\n\t\n\t  Fhem.prototype.getDevicesForActiveRoom = function getDevicesForActiveRoom() {\n\t    var _this3 = this;\n\t\n\t    return this.state.jsonlist.Results.filter(function (result) {\n\t      return result.Attributes.room ? result.Attributes.room.match(_this3.state.activeRoom) && result.Attributes.alias : false;\n\t    });\n\t  };\n\t\n\t  Fhem.prototype.handleDeviceChange = function handleDeviceChange(data) {\n\t    console.log('DEVICECHANGE');\n\t    var obj = data.Results[0];\n\t    var name = obj.Name;\n\t    var results = this.state.jsonlist.Results.slice(0);\n\t    var resultsIdx = _lodash2.default.findIndex(results, function (res) {\n\t      return res.Name == name;\n\t    });\n\t    results[resultsIdx] = obj;\n\t    this.setState({\n\t      jsonlist: {\n\t        Results: results\n\t      }\n\t    });\n\t  };\n\t\n\t  Fhem.prototype.handleRoomChange = function handleRoomChange(event) {\n\t    var room = event.target.textContent;\n\t    this.setState({\n\t      activeRoom: room\n\t    });\n\t  };\n\t\n\t  Fhem.prototype.handleDeviceCommand = function handleDeviceCommand(command) {\n\t    socket.emit(\"command\", command, function (data) {\n\t      console.log('sending: ' + command);\n\t      console.log(data);\n\t    });\n\t  };\n\t\n\t  Fhem.prototype.render = function render() {\n\t    var _this4 = this;\n\t\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { className: 'b-fhem' },\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'row' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'small-12 medium-3 columns' },\n\t          _react2.default.createElement(_fhemRoomSwitcher2.default, { activeRoom: this.state.activeRoom, rooms: this.state.rooms, handleRoomChange: this.handleRoomChange })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'small-12 medium-9 columns' },\n\t          _react2.default.createElement(\n\t            'ul',\n\t            { className: 'b-fhem-devices' },\n\t            this.getDevicesForActiveRoom().map(function (device, _) {\n\t              return _react2.default.createElement(_fhemGenericDevice2.default, { key: device.Name, handleDeviceCommand: _this4.handleDeviceCommand, device: device });\n\t            })\n\t          )\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  return Fhem;\n\t}(_react2.default.Component);\n\t\n\texports.default = Fhem;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"CE+p\":\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ \"TVRk\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _core = __webpack_require__(\"Cf7X\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FhemURLInput = function (_React$Component) {\n\t  _inherits(FhemURLInput, _React$Component);\n\t\n\t  function FhemURLInput() {\n\t    _classCallCheck(this, FhemURLInput);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  FhemURLInput.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"b-fhem-url-input pt-card pt-elevation-2\" },\n\t      _react2.default.createElement(\n\t        \"h3\",\n\t        null,\n\t        \"Please provide your fhem.js URL!\"\n\t      ),\n\t      _react2.default.createElement(\n\t        \"h1\",\n\t        null,\n\t        _react2.default.createElement(_core.EditableText, { placeholder: \"ws://your-fhem-host:8086/\", onConfirm: this.props.onConfirm })\n\t      )\n\t    );\n\t  };\n\t\n\t  return FhemURLInput;\n\t}(_react2.default.Component);\n\t\n\texports.default = FhemURLInput;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ \"2x5+\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _core = __webpack_require__(\"Cf7X\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FhemRoomSwitcher = function (_React$Component) {\n\t  _inherits(FhemRoomSwitcher, _React$Component);\n\t\n\t  function FhemRoomSwitcher() {\n\t    _classCallCheck(this, FhemRoomSwitcher);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  FhemRoomSwitcher.prototype.render = function render() {\n\t    var _this2 = this;\n\t\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"b-fhem-room-switcher\" },\n\t      _react2.default.createElement(\n\t        _core.Menu,\n\t        null,\n\t        this.props.rooms.map(function (room, idx) {\n\t          return _react2.default.createElement(_core.MenuItem, { key: idx, onClick: _this2.props.handleRoomChange, text: room, disabled: _this2.props.activeRoom == room });\n\t        })\n\t      )\n\t    );\n\t  };\n\t\n\t  return FhemRoomSwitcher;\n\t}(_react2.default.Component);\n\t\n\texports.default = FhemRoomSwitcher;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ \"c3Ca\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _fhemITDevice = __webpack_require__(\"BKUj\");\n\t\n\tvar _fhemITDevice2 = _interopRequireDefault(_fhemITDevice);\n\t\n\tvar _fhemMAXDevice = __webpack_require__(\"xOTe\");\n\t\n\tvar _fhemMAXDevice2 = _interopRequireDefault(_fhemMAXDevice);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FhemGenericDevice = function (_React$Component) {\n\t  _inherits(FhemGenericDevice, _React$Component);\n\t\n\t  function FhemGenericDevice() {\n\t    _classCallCheck(this, FhemGenericDevice);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  FhemGenericDevice.prototype.render = function render() {\n\t    switch (this.props.device.Internals.TYPE) {\n\t      case \"IT\":\n\t        return _react2.default.createElement(_fhemITDevice2.default, { device: this.props.device, handleDeviceCommand: this.props.handleDeviceCommand });\n\t      case \"MAX\":\n\t        return _react2.default.createElement(_fhemMAXDevice2.default, { device: this.props.device, handleDeviceCommand: this.props.handleDeviceCommand });\n\t      default:\n\t        return _react2.default.createElement(\n\t          \"li\",\n\t          null,\n\t          this.props.device.Attributes.alias\n\t        );\n\t    }\n\t  };\n\t\n\t  return FhemGenericDevice;\n\t}(_react2.default.Component);\n\t\n\texports.default = FhemGenericDevice;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ \"BKUj\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _core = __webpack_require__(\"Cf7X\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FhemITDevice = function (_React$Component) {\n\t  _inherits(FhemITDevice, _React$Component);\n\t\n\t  function FhemITDevice(props) {\n\t    _classCallCheck(this, FhemITDevice);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.handleChange = _this.handleChange.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  FhemITDevice.prototype.handleChange = function handleChange(event) {\n\t    var newState = this.props.device.Internals.STATE == \"on\" ? \"off\" : \"on\";\n\t    this.props.handleDeviceCommand(\"set \" + this.props.device.Name + \" \" + newState);\n\t  };\n\t\n\t  FhemITDevice.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"b-fhem-it-device\" },\n\t      _react2.default.createElement(_core.Switch, {\n\t        checked: this.props.device.Internals.STATE == \"on\",\n\t        label: this.props.device.Attributes.alias,\n\t        onChange: this.handleChange })\n\t    );\n\t  };\n\t\n\t  return FhemITDevice;\n\t}(_react2.default.Component);\n\t\n\texports.default = FhemITDevice;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ \"xOTe\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"U7vG\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _lodash = __webpack_require__(\"M4fF\");\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _core = __webpack_require__(\"Cf7X\");\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar FhemMAXDevice = function (_React$Component) {\n\t  _inherits(FhemMAXDevice, _React$Component);\n\t\n\t  function FhemMAXDevice(props) {\n\t    _classCallCheck(this, FhemMAXDevice);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.handleChange = _this.handleChange.bind(_this);\n\t    _this.state = {\n\t      value: parseFloat(_this.props.device.Internals.STATE)\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  FhemMAXDevice.prototype.handleChange = function handleChange(event) {\n\t    var _this2 = this;\n\t\n\t    this.setState({\n\t      value: event\n\t    }, function () {\n\t      _this2.props.handleDeviceCommand(\"set \" + _this2.props.device.Name + \" desiredTemperature \" + _this2.state.value);\n\t    });\n\t  };\n\t\n\t  FhemMAXDevice.prototype.valuesForDevice = function valuesForDevice(device) {\n\t    return device.PossibleSets.match(/desiredTemperature:(\\S*)/)[1].split(\",\");\n\t  };\n\t\n\t  FhemMAXDevice.prototype.numericValuesForDevice = function numericValuesForDevice(device) {\n\t    return this.valuesForDevice(device).map(parseFloat).filter(function (el) {\n\t      return !isNaN(el);\n\t    });\n\t  };\n\t\n\t  FhemMAXDevice.prototype.buttonValuesForDevice = function buttonValuesForDevice(device) {\n\t    return this.valuesForDevice(device).filter(isNaN);\n\t  };\n\t\n\t  FhemMAXDevice.prototype.renderTemperatureLabel = function renderTemperatureLabel(num) {\n\t    return num + \"\\u2103\";\n\t  };\n\t\n\t  FhemMAXDevice.prototype.render = function render() {\n\t    var numVal = this.numericValuesForDevice(this.props.device);\n\t    var value = parseFloat(this.props.device.Readings.state.Value);\n\t    var actualValue = parseFloat(this.props.device.Readings.temperature.Value);\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"b-fhem-max-device\" },\n\t      _react2.default.createElement(\n\t        \"p\",\n\t        { className: \"pt-ui-text-large\" },\n\t        this.props.device.Attributes.alias,\n\t        \" - \",\n\t        actualValue,\n\t        \"\\u2103\"\n\t      ),\n\t      this.props.device.Readings.valveposition ? _react2.default.createElement(\n\t        \"p\",\n\t        null,\n\t        \"Ge\\xF6ffnet: \",\n\t        parseFloat(this.props.device.Readings.valveposition.Value),\n\t        \"%\"\n\t      ) : null,\n\t      _react2.default.createElement(_core.Slider, {\n\t        disabled: false,\n\t        min: numVal[0],\n\t        max: numVal[numVal.length - 1],\n\t        labelStepSize: 2.5,\n\t        stepSize: 0.5,\n\t        value: this.state.value,\n\t        onChange: this.handleChange,\n\t        renderLabel: this.renderTemperatureLabel\n\t      })\n\t    );\n\t  };\n\t\n\t  return FhemMAXDevice;\n\t}(_react2.default.Component);\n\t\n\texports.default = FhemMAXDevice;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.53162c3a.js\n **/","import './index.css'\nimport '@blueprintjs/core/dist/blueprint.css'\nimport 'foundation-sites/dist/foundation.min.css'\n\nimport React from 'react'\nimport {render} from 'react-dom'\n\nimport App from './App'\n\nrender(<App/>, document.querySelector('#app'))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import React from 'react'\nimport Fhem from './fhem'\nimport FhemURLInput from './fhemURLInput'\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.onConfirmURLInput = this.onConfirmURLInput.bind(this)\n    this.resetFhemURL = this.resetFhemURL.bind(this)\n    this.state = {\n      fhemURL: localStorage.getItem('fhemURL') || ''\n    }\n  }\n\n  onConfirmURLInput(newURL) {\n    console.log(newURL)\n    this.setState((prevState, _) => {\n      if(newURL.match(/ws:\\/\\/\\S*/)) {\n        localStorage.setItem('fhemURL', newURL)\n        return { fhemURL: newURL }\n      }\n    })\n  }\n\n  resetFhemURL() {\n    localStorage.setItem('fhemURL', '')\n    this.setState({\n      fhemURL: ''\n    })\n  }\n\n  render() {\n    return <div className=\"App\">\n      <div className=\"small-12 columns\">\n        <h1>reactFHEM <small className=\"cursor\" onClick={this.resetFhemURL}>Reset Host</small></h1>\n      </div>\n      <div className=\"small-12 columns\">\n        { this.state.fhemURL ? <Fhem /> : <FhemURLInput onConfirm={this.onConfirmURLInput} /> }\n      </div>\n    </div>\n  }\n}\n\nexport default App\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/App.js\n **/","import './fhem.sass'\n\nimport React from 'react'\nimport io from 'socket.io-client'\nimport _ from 'lodash'\n\nimport FhemRoomSwitcher from './fhemRoomSwitcher'\nimport FhemGenericDevice from './fhemGenericDevice'\n\nconst url = \"ws://fhem.lan.r4r3.me:8086/\";\nconst socket = io(url, { timeout: 5000, 'sync disconnect on unload' : true });\n\nclass Fhem extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.handleRoomChange = this.handleRoomChange.bind(this)\n    this.handleDeviceCommand = this.handleDeviceCommand.bind(this)\n    this.handleDeviceChange = this.handleDeviceChange.bind(this)\n    this.state = {\n      jsonlist: { Results: [] },\n      rooms: [],\n      activeRoom: \"Wohnzimmer\"\n    }\n  }\n\n  componentDidMount() {\n    socket.connect()\n    socket.emit(\"JsonList2\", \"\", (data) => {\n      let rooms = this.getRoomsFromData(data);\n      this.setState({\n        jsonlist: data,\n        rooms: rooms\n      })\n    })\n\n    socket.emit(\"getAllDevicesOnChange\")\n    socket.on('device', this.handleDeviceChange)\n  }\n\n  getRoomsFromData(data) {\n    return _.chain(data.Results)\n        .map((el) => { return el.Attributes.room })\n        .map((el) => {\n          return el ? _.split(el, \",\") : ''\n        })\n        .flatten()\n        .uniq()\n        .compact()\n        .value()\n  }\n\n  getDevicesForActiveRoom() {\n    return this.state.jsonlist.Results.filter((result) => {\n      return result.Attributes.room ?\n        (result.Attributes.room.match(this.state.activeRoom) && result.Attributes.alias)\n        : false\n    })\n  }\n\n  handleDeviceChange(data) {\n    console.log('DEVICECHANGE')\n    let obj = data.Results[0]\n    let name = obj.Name\n    let results = this.state.jsonlist.Results.slice(0)\n    let resultsIdx = _.findIndex(results, (res) => {\n      return res.Name == name\n    })\n    results[resultsIdx] = obj\n    this.setState({\n      jsonlist: {\n        Results: results\n      }\n    })\n  }\n\n  handleRoomChange(event) {\n    const room = event.target.textContent\n    this.setState({\n      activeRoom: room\n    })\n  }\n\n  handleDeviceCommand(command) {\n    socket.emit(\"command\", command, (data) => {\n      console.log('sending: ' + command)\n      console.log(data)\n    })\n  }\n\n  render() {\n    return <div className=\"b-fhem\">\n      <div className=\"row\">\n        <div className=\"small-12 medium-3 columns\">\n          <FhemRoomSwitcher activeRoom={this.state.activeRoom} rooms={this.state.rooms} handleRoomChange={this.handleRoomChange} />\n        </div>\n        <div className=\"small-12 medium-9 columns\">\n          <ul className=\"b-fhem-devices\">\n            { this.getDevicesForActiveRoom().map((device, _) => {\n              return <FhemGenericDevice key={device.Name} handleDeviceCommand={this.handleDeviceCommand} device={device} />\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\nexport default Fhem\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhem.js\n **/","import React from \"react\"\nimport _ from \"lodash\"\nimport { EditableText } from \"@blueprintjs/core\"\n\nclass FhemURLInput extends React.Component {\n  render() {\n    return <div className='b-fhem-url-input pt-card pt-elevation-2'>\n      <h3>Please provide your fhem.js URL!</h3>\n      <h1>\n        <EditableText placeholder=\"ws://your-fhem-host:8086/\" onConfirm={this.props.onConfirm} />\n      </h1>\n    </div>\n  }\n}\n\nexport default FhemURLInput\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhemURLInput.js\n **/","import React from \"react\"\nimport _ from \"lodash\"\nimport { Menu, MenuItem, MenuDivider } from \"@blueprintjs/core\"\n\nclass FhemRoomSwitcher extends React.Component {\n  render() {\n    return <div className='b-fhem-room-switcher'>\n      <Menu>\n        { this.props.rooms.map((room, idx) => {\n          return <MenuItem key={idx} onClick={this.props.handleRoomChange} text={room} disabled={this.props.activeRoom == room} />\n        }) }\n      </Menu>\n    </div>\n  }\n}\n\nexport default FhemRoomSwitcher\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhemRoomSwitcher.js\n **/","import React from \"react\"\nimport _ from \"lodash\"\n\nimport FhemITDevice from './fhemITDevice'\nimport FhemMAXDevice from './fhemMAXDevice'\n\nclass FhemGenericDevice extends React.Component {\n  render() {\n    switch(this.props.device.Internals.TYPE) {\n      case \"IT\":\n        return <FhemITDevice device={this.props.device} handleDeviceCommand={this.props.handleDeviceCommand} />\n      case \"MAX\":\n        return <FhemMAXDevice device={this.props.device} handleDeviceCommand={this.props.handleDeviceCommand} />\n      default:\n        return <li>{ this.props.device.Attributes.alias }</li>\n    }\n  }\n}\n\nexport default FhemGenericDevice\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhemGenericDevice.js\n **/","import React from \"react\"\nimport _ from \"lodash\"\nimport { Switch } from \"@blueprintjs/core\"\n\nclass FhemITDevice extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange(event) {\n    let newState = this.props.device.Internals.STATE == \"on\" ? \"off\" : \"on\"\n    this.props.handleDeviceCommand(`set ${this.props.device.Name} ${newState}`)\n  }\n\n  render() {\n    return <div className=\"b-fhem-it-device\">\n      <Switch\n        checked={this.props.device.Internals.STATE == \"on\"}\n        label={this.props.device.Attributes.alias}\n        onChange={this.handleChange} />\n    </div>\n  }\n}\n\nexport default FhemITDevice\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhemITDevice.js\n **/","import React from \"react\"\nimport _ from \"lodash\"\nimport { Slider } from \"@blueprintjs/core\"\n\nclass FhemMAXDevice extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      value: parseFloat(this.props.device.Internals.STATE)\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event\n    }, () => {\n      this.props.handleDeviceCommand(`set ${this.props.device.Name} desiredTemperature ${this.state.value}`)\n    })\n  }\n\n  valuesForDevice(device) {\n    return device.PossibleSets.match(/desiredTemperature:(\\S*)/)[1].split(\",\")\n  }\n\n  numericValuesForDevice(device) {\n    return this.valuesForDevice(device).map(parseFloat).filter((el) => {\n      return !isNaN(el)\n    })\n  }\n\n  buttonValuesForDevice(device) {\n    return this.valuesForDevice(device).filter(isNaN)\n  }\n\n  renderTemperatureLabel(num) {\n    return `${num}℃`\n  }\n\n  render() {\n    let numVal = this.numericValuesForDevice(this.props.device)\n    let value = parseFloat(this.props.device.Readings.state.Value)\n    let actualValue = parseFloat(this.props.device.Readings.temperature.Value)\n    return <div className=\"b-fhem-max-device\">\n      <p className=\"pt-ui-text-large\">{this.props.device.Attributes.alias} - {actualValue}℃</p>\n      { this.props.device.Readings.valveposition ? <p>Geöffnet: {parseFloat(this.props.device.Readings.valveposition.Value)}%</p> : null }\n      <Slider\n        disabled={false}\n        min={numVal[0]}\n        max={numVal[numVal.length - 1]}\n        labelStepSize={2.5}\n        stepSize={0.5}\n        value={this.state.value}\n        onChange={this.handleChange}\n        renderLabel={this.renderTemperatureLabel}\n      />\n    </div>\n  }\n}\n\nexport default FhemMAXDevice\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fhemMAXDevice.js\n **/"],"sourceRoot":""}